import { defineFeature, loadFeature } from "jest-cucumber";
import { shallow, ShallowWrapper } from "enzyme";
import * as helpers from "../../../../framework/src/Helpers";

import React from "react";
import { runEngine } from "../../../../framework/src/RunEngine";
import { Message } from "../../../../framework/src/Message";

import MessageEnum, {
  getName,
} from "../../../../framework/src/Messages/MessageEnum";
import { jest, beforeEach } from "@jest/globals";
import LandingPageDriverOrder from "../../src/LandingPageDriverOrder";
import { Platform } from "react-native";
jest.useFakeTimers();
const screenProps = {
  navigation: {
    navigate: jest.fn(),
    goBack: jest.fn(),
    addListener: jest.fn().mockImplementation((event, callback: any) => {
      if (event === "focus") {
        callback();
      }
      if (event === "willFocus") {
        callback();
      }
      if (event === "didFocus") {
        callback();
      }
      if (event === "willBlur") {
        callback();
      }
      if (event === "didBlur") {
        callback();
      }
    }),
  },
  id: "LandingPageDriverOrder",
};

const feature = loadFeature(
  "./__tests__/features/LandingPageDriverOrder-scenario.feature"
);
const sendMessage = jest.spyOn(runEngine, "sendMessage");
jest.useFakeTimers();
(global as any).setTimeout = jest.fn((cb:any) => cb());
jest.spyOn(global, 'clearTimeout');
defineFeature(feature, (test) => {
  beforeEach(() => {
    jest.doMock("react-native", () => ({ Platform: { OS: "anndroid" } }));
    jest.spyOn(helpers, "getOS").mockImplementation(() => "android");
  });

  test("User navigates to LandingPageDriverOrder", ({ given, when, then }) => {
    let LandingPageDriverBlock: ShallowWrapper;
    let instance: LandingPageDriverOrder;

    given("I am a User loading LandingPageDriverOrder", () => {
      LandingPageDriverBlock = shallow(
        <LandingPageDriverOrder {...screenProps} />
      );
    });

    when("I navigate to the LandingPageDriverOrder", () => {
      instance = LandingPageDriverBlock.instance() as LandingPageDriverOrder;
      
    });

    then("LandingPageDriver will load with out errors", () => {
      jest.spyOn(helpers, "getOS").mockImplementation(() => "android");
      instance.onlineOfflineStatusUpdate(true)
      const tokenMsgs: Message = new Message(getName(MessageEnum.NavigationPayLoadMessage));
        tokenMsgs.addData(getName(MessageEnum.LoginOptionsNavigationDataMessage), {type:"Stores",offer_id:1});
        runEngine.sendMessage("Unit Test", tokenMsgs);
      jest.useFakeTimers();
      const sessionMessage = new Message(
        getName(MessageEnum.SessionResponseMessage)
      );
      sessionMessage.addData(
        getName(MessageEnum.SessionResponseToken),
        "token"
      );
      runEngine.sendMessage(sessionMessage.messageId, sessionMessage);
      const countryMessage = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessage.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessage.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": null,"driver_order_status": "in_progress","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
        countryMessage.messageId;
      runEngine.sendMessage(countryMessage.messageId, countryMessage);
    
      let textInputComponent = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'mapViewShowForm');
            textInputComponent.props().onMapReady();
            let rejectId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'rejectId');
            rejectId.simulate('press')
            let btnCancelOrderYes = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'btnCancelOrderYes');
            btnCancelOrderYes.simulate('press') 
            let btnCancelOrderNo = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'btnCancelOrderNo');
            btnCancelOrderNo.simulate('press') 
            
            const countryMessageReject = new Message(
              getName(MessageEnum.RestAPIResponceMessage)
            );
            countryMessageReject.initializeFromObject({
              [getName(
                MessageEnum.RestAPIResponceDataMessage
              )]: countryMessageReject.messageId,
              [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": null,"driver_order_status": "in_progress","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
            );
           instance.confirmOrderId =
           countryMessageReject.messageId;
           expect(rejectId.length).toBeGreaterThan(0);
            runEngine.sendMessage(countryMessageReject.messageId, countryMessageReject);
            let swipe = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'swipe');
            swipe.props().onSwipeableLeftOpen() 
            const countryMessageAccept = new Message(
              getName(MessageEnum.RestAPIResponceMessage)
            );
            countryMessageAccept.initializeFromObject({
              [getName(
                MessageEnum.RestAPIResponceDataMessage
              )]: countryMessageAccept.messageId,
              [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": null,"driver_order_status": "in_progress","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
            );
           instance.confirmOrderId =
           countryMessageAccept.messageId;
            runEngine.sendMessage(countryMessageAccept.messageId, countryMessageAccept);
            expect(countryMessageAccept.messageId).toBeTruthy();           
    });

    then("I can click on profile photo button store with out errors", () => {
      jest.spyOn(helpers, "getOS").mockImplementation(() => "ios");
      const countryMessageAcceptResponce = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponce.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponce.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null, latitude: 29.3117, 
        longitude: 47.4818,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAcceptResponce.messageId;
      runEngine.sendMessage(countryMessageAcceptResponce.messageId, countryMessageAcceptResponce);
      let call = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call');
      call.simulate('press')
      let call_new = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call_new');
      call_new.simulate('press')
      let rejectId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId');
      rejectId.simulate('press') 
     
      const countryMessageAcceptResponces = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponces.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponces.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.updateLocationId =
     countryMessageAcceptResponces.messageId;
      runEngine.sendMessage(countryMessageAcceptResponces.messageId, countryMessageAcceptResponces);
      let textInputComponent = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'mapViewShowForm');
      let listData= textInputComponent.findWhere((node) => node.prop('data-test-id') === 'mapViewDirection');
      listData.props().onReady({distance:1,duration:0})
      let navigationId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId');
       navigationId.simulate('press')
      let swipe = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'swipe2');
      swipe.props().onSwipeableLeftOpen() 
      const arrivedId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      arrivedId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: arrivedId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.arrivedId =
     arrivedId.messageId;
      runEngine.sendMessage(arrivedId.messageId, arrivedId);
      const inTransitId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      inTransitId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: inTransitId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.inTransitId =
     inTransitId.messageId;
      runEngine.sendMessage(inTransitId.messageId, inTransitId);
      const sendOtpId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      sendOtpId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: sendOtpId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.sendOtpId =
     sendOtpId.messageId;
      runEngine.sendMessage(sendOtpId.messageId, sendOtpId);
      
      
    });

    then("I click on back button", () => {
      const countryMessageAcceptResponce = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponce.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponce.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "shipped","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_send","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAcceptResponce.messageId;
      runEngine.sendMessage(countryMessageAcceptResponce.messageId, countryMessageAcceptResponce);
      const countryMessageAcceptResponces = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponces.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponces.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.updateLocationId =
     countryMessageAcceptResponces.messageId;
      runEngine.sendMessage(countryMessageAcceptResponces.messageId, countryMessageAcceptResponces);
     
      let call = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call');
      call.simulate('press')
      let call_new = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call_new');
      call_new.simulate('press')
      let enterOTPId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId');
      enterOTPId.simulate('press') 
      jest.spyOn(helpers, "getOS").mockImplementation(() => "android");
      let enterOTPIds= LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId');
      enterOTPIds.simulate('press') 
      let emailArray = instance.state.OtpArray;
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp" + index.toString()
        );
        textInput.simulate("changeText", '');
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());

      })
      let sendIds = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId');
      sendIds.simulate('press') 
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp" + index.toString()
        );
        textInput.simulate("changeText", index.toString());
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());

      })
      let sendId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId');
      sendId.simulate('press') 
      const confirmOtpId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      confirmOtpId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: confirmOtpId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_confirm","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.enterOtpId =
     confirmOtpId.messageId;
      runEngine.sendMessage(confirmOtpId.messageId, confirmOtpId);
    });

    then("I click on order back button", async() => {
     jest.useFakeTimers()
      const sendOtpId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      sendOtpId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: sendOtpId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "shipped","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_confirm","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,latitude: 29.3117, 
        longitude: 47.4818,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     sendOtpId.messageId;
      runEngine.sendMessage(sendOtpId.messageId, sendOtpId);
      let call = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call');
      call.simulate('press');
      let chat = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'chat');
      chat.simulate('press')
      let call_new = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call_new');
      call_new.simulate('press')
      let rejectId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId2');
      rejectId.simulate('press')
      const countryMessageAcceptResponces = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponces.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponces.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.updateLocationId =
     countryMessageAcceptResponces.messageId;
      runEngine.sendMessage(countryMessageAcceptResponces.messageId, countryMessageAcceptResponces);
     
     
    });

    then("I enter otp", () => {
      let textInputComponent = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'mapViewShowForm');
      let listData= textInputComponent.findWhere((node) => node.prop('data-test-id') === 'mapViewDirection');
      listData.props().onReady({distance:1,duration:0})
      let navigationId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId2');
       navigationId.simulate('press')
      let swipe = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'reachswipe');
      swipe.props().onSwipeableLeftOpen() 
      swipe.props().renderLeftActions()
      const sendOtpId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      sendOtpId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: sendOtpId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "shipped","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_confirm","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.DriverOtpId =
     sendOtpId.messageId;
      runEngine.sendMessage(sendOtpId.messageId, sendOtpId);
      
    });

    then("I Arrived at location", () => {
      const countryMessageAcceptResponce = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponce.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponce.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "shipped","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "send_customer_otp","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAcceptResponce.messageId;
      runEngine.sendMessage(countryMessageAcceptResponce.messageId, countryMessageAcceptResponce);
      let call = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call');
      call.simulate('press')
      let call_new = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call_new');
      call_new.simulate('press')
    });

    then("order is in transit", () => {
      jest.spyOn(helpers, "getOS").mockImplementation(() => "android");
      let enterOTPId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId2');
      enterOTPId.simulate('press') 
      Platform.OS="ios"
      jest.spyOn(helpers, "getOS").mockImplementation(() => "ios");
      let enterOTPIds = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId2');
      enterOTPIds.simulate('press') 
      let customerOtp = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'customerOtp');
      customerOtp.props().behavior
      Platform.OS="android"
      let customerOtps = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'customerOtp');
      customerOtps.props().behavior
      let emailArray = instance.state.OtpArray;
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp2" + index.toString()
        );
        textInput.simulate("changeText", '');
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());

      })
      let sendIds = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId2');
      sendIds.simulate('press')
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp2" + index.toString()
        );
        textInput.simulate("changeText", index.toString());
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
       
       

      })
      let sendId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId2');
      sendId.simulate('press')
      const sendOtpId = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      sendOtpId.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: sendOtpId.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "shipped","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_confirm","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.confirmOtpId =
     sendOtpId.messageId;
      runEngine.sendMessage(sendOtpId.messageId, sendOtpId);
    });

    then("I click on enter customer otp", () => {
      let enterOTPId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'orderBack');
      enterOTPId.simulate('press')
      let DashboardId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'DashboardId');
      DashboardId.simulate('press')
      
    });

    then("I confirm otp", () => {
      const countryMessage = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessage.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessage.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "return_in_process","accept_order_upload_time": null,"driver_id": null,"driver_order_status": "in_progress","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
        countryMessage.messageId;
      runEngine.sendMessage(countryMessage.messageId, countryMessage);
      let swipe = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'swipe');
            swipe.props().onSwipeableLeftOpen() 
      const countryMessageAccept = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAccept.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAccept.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "return_in_process","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null, latitude: 29.3117, 
        longitude: 47.4818,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null, latitude: 29.3117, 
        longitude: 47.4818,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAccept.messageId;
      runEngine.sendMessage(countryMessageAccept.messageId, countryMessageAccept);
      let navigationId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId');
      navigationId.simulate('press')
      const countryMessageAcceptResponces = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptResponces.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptResponces.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "processed","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "accepted","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null,"latitude": 22.7287381,"longitude": 75.8075993,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null,"latitude": 22.6410167,"longitude": 75.8889769,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.updateLocationId =
     countryMessageAcceptResponces.messageId;
      runEngine.sendMessage(countryMessageAcceptResponces.messageId, countryMessageAcceptResponces);
      let swipe2 = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'swipe2');
      swipe2.props().onSwipeableLeftOpen() 
      const countryMessageAccepts = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAccepts.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAccepts.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "return_in_process","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "send_customer_otp","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null, latitude: 29.3117, 
        longitude: 47.4818,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null, latitude: 29.3117, 
        longitude: 47.4818,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAccepts.messageId;
      runEngine.sendMessage(countryMessageAccepts.messageId, countryMessageAccepts);
      
      let enterOTPId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId');
      enterOTPId.simulate('press') 
      
      let emailArray = instance.state.OtpArray;
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp" + index.toString()
        );
        textInput.simulate("changeText", '');
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());
      });
      let sendIds = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId');
      sendIds.simulate('press') 
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp" + index.toString()
        );
        textInput.simulate("changeText", index.toString());
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());

      })
      let sendId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId');
      sendId.simulate('press') 
      const countryMessageAcceptss = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptss.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptss.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "return_in_process","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "confirm_customer_otp","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null, latitude: 29.3117, 
        longitude: 47.4818,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null, latitude: 29.3117, 
        longitude: 47.4818,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAcceptss.messageId;
      runEngine.sendMessage(countryMessageAcceptss.messageId, countryMessageAcceptss);
      let call_new = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'call_new');
      call_new.simulate('press')
      let rejectId = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'navigationId2');
      rejectId.simulate('press')
      let swipes = LandingPageDriverBlock.findWhere((node) => node.prop('data-test-id') === 'reachswipe');
      swipes.props().onSwipeableLeftOpen() 
      swipes.props().renderLeftActions()
      const countryMessageAcceptsss = new Message(
        getName(MessageEnum.RestAPIResponceMessage)
      );
      countryMessageAcceptsss.initializeFromObject({
        [getName(
          MessageEnum.RestAPIResponceDataMessage
        )]: countryMessageAcceptsss.messageId,
        [getName(MessageEnum.RestAPIResponceSuccessMessage)]: {"data": {"id": "491","type": "near_by_seller_order","attributes": {"id": 491,"status": "return_in_process","accept_order_upload_time": null,"driver_id": 1,"driver_order_status": "store_otp_send","order_number": "OD00000630","order_placed_at": "2024-07-05T10:30:36.418Z","business_information": {"id": 130,"store_name": "Pentaloons 102","registration_number": null,"address": "PRH5+M42, Depalpur Rd, Devi Ahillyabai Holkar Airport Area, Indore, Madhya Pradesh 452005, India","address2": null,"area": "Ksksjw","city": "Hshs","state": null,"country": null,"postal_code": null,"no_of_stores": null,"account_id": 501,"created_at": "2024-03-15T07:47:59.778Z","updated_at": "2024-07-04T07:27:17.108Z","name": null,"contact_number": "+96522145632","street": null,"zipcode": "64964","block": "ER","building_house": null,"floor": "5th","apartment_number": null,"description": "HS jwjs djidd jwod dkrkiyoy qqtte ncncnc djhfkd ajwiow ddjwoos didesj","driver_instruction": "Huisos","store_operating_hours": {"monday": {"open": "08:00","close": "13:19","is_open": true},"tuesday": {"open": "08:45","close": "13:17","is_open": true},"wednesday": {"open": "09:30","close": "13:17","is_open": true},"thursday": {"open": "09:50","close": "13:17","is_open": true},"friday": {"open": "10:30","close": "13:17","is_open": true},"saturday": {"open": "11:30","close": "13:17","is_open": true},"sunday": {"open": "15:00","close": "22:11","is_open": true}},"additional_time_slot": null,"average_shipping_time": "60 mins","average_prepration_time": null,"share_token": null,"unit_number": 0,"payment_mode": ["cod,UPI"],"mall_name": "UK'S Mall","status": "Approved","comment": null, latitude: 29.3117, 
        longitude: 47.4818,"is_open": true},"order_item_count": 1,"seller_name": "myntra new","seller_phone_number": "96522659696","order_status": "confirmed","customer_information": {"id": 906,"first_name": "buyer","last_name": "tim","full_phone_number": "96522114400","country_code": 965,"phone_number": 22114400,"email": "buyertim@yopmail.com","activated": true,"device_id": null,"unique_auth_id": "5Ik7Q1Ee0FAuJop6lQHwqQtt","password_digest": "$2a$12$d08Uv.HxMu6Hs/4ClPJDqOPgWF0g95VMz1kU2w6zPJMYOT5dCxrZy","created_at": "2024-06-28T04:22:36.523Z","updated_at": "2024-06-28T04:39:50.553Z","user_name": null,"platform": null,"user_type": null,"app_language_id": null,"last_visit_at": null,"is_blacklisted": false,"suspend_until": null,"status": "regular","gender": null,"date_of_birth": null,"age": null,"stripe_id": null,"stripe_subscription_id": null,"stripe_subscription_date": null,"role": "buyer","full_name": "buyer tim","is_verified": null,"share_token": null,"approve_status": "Pending","seller_status": "Signup","notification": {"push_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true},"email_notification": {"order_invoices": true,"order_confirmations": true,"delivery_confirmation": true,"reviews_and_feedback_requests": true,"refund_or_payment_complete": true,"marketing_emails": true,"product_stock_updates": true}},"customer_id": "cus_TS07A3620240739s6FQ2806558","wallet_amount": "0.0","withdrawable_amount": "0.0","latitude": null,"longitude": null,"driver_status": "offline","language": "English","currency": "Dollar","driver_redirect_flag": null,"stylist_redirect_flag": null},"delivery_address": {"id": 355,"account_id": 906,"address": null,"name": "buyertim","flat_no": null,"zip_code": "380008","phone_number": "22114400","deleted_at": null, latitude: 29.3117, 
        longitude: 47.4818,"residential": true,"city": "ahemdabad ","state_code": null,"country_code": "+965","state": null,"country": null,"address_line_2": null,"address_type": "AccountBlock::Account","address_for": "shipping","is_default": true,"landmark": null,"created_at": "2024-07-05T10:29:48.549Z","updated_at": "2024-07-05T10:29:48.558Z","address_name": "Home","street": "Tejaji Nagar, Mirjapur, Indore, Madhya Pradesh 452020, India","area": "new","block": "A","house_or_building_number": "12","contact_number": "+96522114400","order_management_order_id": 724}}}}},
      );
     instance.getNewOrderId =
     countryMessageAcceptsss.messageId;
      runEngine.sendMessage(countryMessageAcceptsss.messageId, countryMessageAcceptsss);
     instance.setState({orderCompleted:false})
      let sendIdss = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'enterOTPId2');
      sendIdss.simulate('press')
      emailArray.map((item, index) => {
        let textInput = LandingPageDriverBlock.findWhere(
          (node) => node.prop("testID") === "txt_input_otp2" + index.toString()
        );
        textInput.simulate("changeText", index.toString());
        textInput.props().onFocus()
        textInput.props().onKeyPress('Backspace',1)
        textInput.simulate("ref", index.toString());

      })
      let sendIdsss = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId2');
      sendIdsss.simulate('press')
      let sendId2 = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId2');
      sendId2.simulate('press')
      let sendId2s = LandingPageDriverBlock.findWhere((node) => node.prop('testID') === 'sendId2');
      sendId2s.simulate('press')
      instance.componentWillUnmount();
    });
  });
});
